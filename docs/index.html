<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The World of Beer: A Data-Driven Journey into Global Preferences</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="src/index.js" defer></script>
    <link rel="stylesheet" href="src/index.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <!-- Loading gif -->
    <div id="loading" class="loading">
        <img src="./img/loading.gif" alt="Loading" class="loading-gif"> <!-- Credits: https://dribbble.com/shots/1573076-Beer-Preloader -->
    </div>

    <!-- Project Presentation -->
    <section>
        <div class="content">
            <h1 class="text-4xl font-bold text-center mb-16 mt-8">The World of Beer: A Data-Driven Journey into Global Preferences</h1>
            <p>Beer. It’s not just a beverage; it’s a cultural phenomenon, a historical artifact, and a science experiment in a glass. Across centuries and continents, it has brought people together, inspired innovation, and evolved into a deeply personal yet global phenomenon. But what makes one beer an instant hit and another a forgettable sip? Is it the richness of its taste, the aroma that wafts from the glass, or perhaps something as intangible as the mood of the moment? With data in hand and curiosity as our guide we aim to answer to one simple question: what shapes our beer preferences, and how do these preferences differ globally and over time?</p>
            <p>We know, the world of beer is vast and complex with thousands of beers and millions of reviews. But fear not! We are here to guide you through this journey, step by step, from the basics to the most intricate details. So, grab your favorite pint, sit back, and let’s the trip begin!</p>
            <img src="./img/beer-drinking-homer.gif" alt="Beer Drinking Homer" class="rounded-lg shadow-xl mb-8 mt-8 full-width-image">
        </div>
    </section>

    <!-- Data Presentation -->
    <section>
        <div class="mx-auto px-6">
            <div class="content">
                <!-- Introduction -->
                <h2 class="text-3xl font-bold text-center mb-6">The Data's Grand Reveal</h2>
                <div class="mx-auto justify-center">
                    <p>Before we dive into the nuanced world of beer preferences, let's take a moment to introduce the real diva of our analysis: the <b><a href="https://www.ratebeer.com/">RateBeer</a> dataset</b>.</p>
                    <p>With its global reach and detailed reviews, this dataset provides us with the perfect lens to understand what drives beer preferences and how these change across different regions and over time.</p> 
                    <p>In our exploration we also considered using the <b><a href="https://www.beeradvocate.com/">BeerAdvocate</a></b> dataset, another rich source of detailed information about beers, but we saw that it leans heavily toward U.S.-based reviews. <b>RateBeer</b>, on the other hand, offers a more balanced, international perspective on beer culture which lets us explore the global beer landscape in all its diversity.</p>
                </div>

                <!-- Dataset snapshot -->
                <h4 class="text-xl font-bold text-center mt-12 mb-6">A snapshot of the dataset</h4>
                <div class="mx-auto justify-center">
                    <p>
                        Here's what the dataset has to offer:
                    </p>
                </div>
                <div class="grid grid-cols-3 gap-6 mt-12 mb-12">
                    <div class="col-span-1">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="w-12 h-12 mx-auto text-gray-800 mb-4">
                            <path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"/>
                        </svg>
                        <h3 class="text-2xl font-bold text-gray-800 text-center">47,463 users</h3>
                    </div>
                    <div class="col-span-1">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="w-12 h-12 mx-auto text-gray-800 mb-4">
                            <path d="M32 64c0-17.7 14.3-32 32-32l288 0c17.7 0 32 14.3 32 32l0 32 51.2 0c42.4 0 76.8 34.4 76.8 76.8l0 102.1c0 30.4-17.9 57.9-45.6 70.2L384 381.7l0 34.3c0 35.3-28.7 64-64 64L96 480c-35.3 0-64-28.7-64-64L32 64zM384 311.6l56.4-25.1c4.6-2.1 7.6-6.6 7.6-11.7l0-102.1c0-7.1-5.7-12.8-12.8-12.8L384 160l0 151.6zM160 144c0-8.8-7.2-16-16-16s-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224zm64 0c0-8.8-7.2-16-16-16s-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224zm64 0c0-8.8-7.2-16-16-16s-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224z"/>
                        </svg>
                        <h3 class="text-2xl font-bold text-gray-800 text-center">314,341 beers</h3>
                    </div>
                    <div class="col-span-1">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="w-12 h-12 mx-auto text-gray-800 mb-4">
                            <path d="M123.6 391.3c12.9-9.4 29.6-11.8 44.6-6.4c26.5 9.6 56.2 15.1 87.8 15.1c124.7 0 208-80.5 208-160s-83.3-160-208-160S48 160.5 48 240c0 32 12.4 62.8 35.7 89.2c8.6 9.7 12.8 22.5 11.8 35.5c-1.4 18.1-5.7 34.7-11.3 49.4c17-7.9 31.1-16.7 39.4-22.7zM21.2 431.9c1.8-2.7 3.5-5.4 5.1-8.1c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208s-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6c-15.1 6.6-32.3 12.6-50.1 16.1c-.8 .2-1.6 .3-2.4 .5c-4.4 .8-8.7 1.5-13.2 1.9c-.2 0-.5 .1-.7 .1c-5.1 .5-10.2 .8-15.3 .8c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c4.1-4.2 7.8-8.7 11.3-13.5c1.7-2.3 3.3-4.6 4.8-6.9l.3-.5z"/>
                        </svg>
                        <h3 class="text-2xl font-bold text-gray-800 text-center">6,441,815 ratings</h3>
                    </div>
                </div>
                <div class="mx-auto justify-center">
                    <p>Wow, that's a lot of data, and we are not even using all of them!</p>
                    <p>You've read right! We have filtered the original dataset to ensure consistent results and to exclude potential outliers that could introduce bias or reduce the quality of our work. Specifically we are considering ratings and reviews only from 2002 to 2016 and we have excluded countries with fewer ratings than a defined threshold.</p>
                </div>

                <!-- Interactive Maps -->
                <div class="mx-auto mt-12">
                    <h3 class="text-xl font-bold text-center mb-4">Mapping the Data Adventure</h3>
                    <p class="text-center mb-6">What a great news that we have so much data to play with! But wait a minute, where all these data are coming from?</p>
                    <select id="data_presentation_map_select" class="block p-2 bg-white border border-gray-500 rounded focus:outline-none mt-8 mb-4" style="margin-right: 8px; margin-left: 8px;">
                        <option value="beers">Beer per country</option>
                        <option value="users">Users per country</option>
                        <option value="breweries">Breweries per country</option>
                        <option value="numer_of_ratings_brewery">Number of ratings based on the brewery country</option>
                        <option value="number_of_rating_reviewer">Number of ratings based on the reviewer country</option>
                    </select>
                    <style>
                        .ratings_map {
                            height: 580px;
                        }
                    </style>
                    <div class="iframes_group">
                        <iframe src="plots/data_presentation/ratings_map_beers_per_country.html" class="ratings_map" id="ratings_map_number_of_beers_country" loading="lazy"></iframe>
                        <iframe src="plots/data_presentation/ratings_map_breweries_per_country.html" class="ratings_map" id="ratings_map_number_of_breweries_country" loading="lazy"></iframe>
                        <iframe src="plots/data_presentation/ratings_map_number_of_ratings_based_on_the_brewery_country.html" class="ratings_map" id="ratings_map_number_of_ratings_brewery" loading="lazy"></iframe>
                        <iframe src="plots/data_presentation/ratings_map_number_of_ratings_based_on_the_reviewer_country.html" class="ratings_map" id="ratings_map_number_of_ratings_reviewer" loading="lazy"></iframe>
                        <iframe src="plots/data_presentation/ratings_map_users_per_country.html" class="ratings_map" id="ratings_map_number_of_users"></iframe>
                    </div>
                    <script>
                        /* Selection process */
                        const map_select_mapping = {
                            "beers": "ratings_map_number_of_beers_country",
                            "breweries": "ratings_map_number_of_breweries_country",
                            "numer_of_ratings_brewery": "ratings_map_number_of_ratings_brewery",
                            "number_of_rating_reviewer": "ratings_map_number_of_ratings_reviewer",
                            "users": "ratings_map_number_of_users"
                        }
                        document.getElementById("data_presentation_map_select").addEventListener("change", (event) => {
                            const selected_value = event.target.value;
                            const selected_map = map_select_mapping[selected_value];
                            const iframes = document.getElementsByClassName("ratings_map");
                            for (let i = 0; i < iframes.length; i++) {
                                if (iframes[i].id === selected_map) {
                                    iframes[i].classList.remove("hidden_element");
                                } else {
                                    iframes[i].classList.add("hidden_element");
                                }
                            }
                        });
                    </script>
                    <p>Wow! Such a diverse landscape of beers, users and breweries!</p>
                    <p>The data is primarily distributed across North America and Europe, with limited coverage in other continents, especially in the Middle East and Africa. When considered as a whole, the United States has the most available data, followed by the United Kingdom, Canada, and Germany. Surprisingly, Denmark ranks as the second most active country in terms of reviews, with an impressive 546,347 reviews—essentially one review for every 10 people in the country!</p>
                    <p>It's fascinating how a simple beer dataset can reveal clear cultural differences between countries and people. For instance, by focusing on Muslim-majority countries, we can identify those that strictly ban alcohol, such as Saudi Arabia and Iran, due to religious and cultural laws. On the other hand, there are Muslim countries that are more open to alcohol consumption such as Egypt, Morocco, and Tunisia where we have some breweries (but no active user). How intriguing!</p>
                    <p>Alright, we've nerded out on the dataset long enough: time for the fun stuff!</p>
                </div>
            </div>
        </div>
    </section>
    <section>
        <div class="mx-auto px-6">
            <div class="content">
                <h2 class="text-3xl font-bold text-center mb-6">Decoding the Crowd: What Everyone Really Wants</h2>
                
                <!-- Ratings overview -->
                <h3 class="text-xl font-bold text-center mb-4">Is it the aroma or is it the mouthfeel?</h3>
                <p>What people truly love about a beer? Is it the bold aroma that wafts from the glass? The golden clarity of its appearance? Or perhaps the complex flavors that linger on the palate?</p>
                <p>When a beer is evaluated multiple aspects can be graded:</p>
                <ul class="list-disc list-inside ml-6 mt-4">
                    <li><b>Aroma:</b> The beer's smell, scored out of 10.</li>
                    <li><b>Appearance:</b> Its color, clarity, head, and visual carbonation, scored out of 5.</li>
                    <li><b>Taste:</b> The flavor, including bitterness, palate, and finish, scored out of 10.</li>
                    <li><b>Mouthfeel:</b> The beer’s body, carbonation, and astringency, scored out of 5.</li>
                    <li><b>Overall:</b> A holistic score that captures the reviewer’s personal experience and the beer’s characteristics, scored out of 20.</li>
                </ul>                
                <p>These metrics combine for a total score of 50 which, after dividing by 10, gives us the rating which scored out of 5.</p>
                <iframe src="plots/global_analysis/raw_ratings_distribution.html" style="height: 580px;" id="ratings_distribution_raw" loading="lazy"></iframe>
                <p>Users tend to prefer taste and aroma, with both distributions peaking near the higher end of the scale. Both have a median value of <b>7</b>, meaning that half of the raters gave these attributes a score well above the passing grade. This highlights their central role in shaping a beer's impression, which is understandable, as they are the first things noticed when sipping and smelling. In contrast, mouthfeel and appearance are less appreciated, with both having a median of <b>3</b>, suggesting these aspects are less memorable for beer drinkers. These factors are also more subjective and harder to evaluate, which may contribute to their lower ratings.</p>
                <p>The overall experience follows a similar trend to taste and aroma, with a median score of <b>14</b> and a noticeable bias towards the positive end of the scale. This suggests that when taste and aroma are right, they strongly contribute to a favorable overall impression of the beer.</p>
                <p>In general, despite varying median values, users tend to give high ratings across all categories. But why is this the case?</p>
                <p>We believe two main biases play a significant role in this phenomenon:</p>
                <ul class="list-disc list-inside ml-6 mt-4">
                    <li><b>Central tendency bias</b>: This bias leads raters to place most items near the middle of a rating scale. We observe this particularly with mouthfeel and appearance, where most ratings cluster around the middle value, with fewer ratings at the extremes.</li>
                    <li><b>Social experience bias</b>: Beer is often consumed in social contexts, which can lead to a more positive bias in ratings. For example, even if a beer was "average," a fun night with friends might influence a higher rating. This could explain why taste, aroma, and overall ratings tend to be more positive, while mouthfeel and appearance, which are harder to evaluate, may be rated more randomly.</li>
                </ul>
                <p>Now that we know users generally prefer taste and aroma over appearance and mouthfeel, how are these factors connected? Given the similar distributions between aroma, taste, and overall experience, could there be an influence between them?</p>
                
                <!-- Correlation -->
                <h3 class="text-xl font-bold text-center mb-4 mt-8">Everything is correlated</h3>
                <p>Previously, we observed that the overall ratings closely resembled the distribution of taste and aroma. Now, let's explore if there is any relationship between them.</p>
                <div class=" mx-auto iframes_group">
                    <iframe src="plots/global_analysis/correlation_matrix.html" style="height: 620px;"></iframe>
                </div>
                <p>With a correlation of <b>0.86</b> and <b>0.77</b> with the overall ratings, taste and aroma are the king and queen of the beer experience. If these aspects improve, the overall rating tends to follow suit, and they are also highly correlated with each other.</p>
                <p>This makes perfect sense: taste and aroma are the most immediate and visceral aspects of enjoying a beer. Whether it's the hop-forward bitterness of an IPA or the rich malty aroma of a stout, these elements shape the essence of how a beer is perceived. If either taste or aroma falls short, the overall impression of the beer is unlikely to recover, no matter how appealing its appearance or mouthfeel may be.</p>
                <p>We’ve established that taste and aroma are highly correlated with each other, but how important are they in determining the overall grade? Do they have the same influence on the overall rating?</p>
                <p>To answer these questions, we can use a powerful tool: <i>linear regression</i>. By fitting a linear regression model to our data, we find that taste and aroma can accurately predict the overall score, with an <b>R&#x00B2;</b> of <b>77.32%</b>. This means that most of the variance in the overall experience is explained by these factors.</p>
                <p>We also see that the coefficient for taste is <b>1.7843</b>, while aroma, the second most important factor, has a coefficient of <b>0.7184</b>. This indicates that taste is more than twice as important as aroma, meaning if a beer’s taste isn’t right, the overall experience is likely to fail.</p>
                <p>Now we know that the taste has a big impact on the overall experience, but how the rating have evolved in time? Do people like more and more the beers or they are becoming more and more critic?</p>
                
                <!-- Evolution -->
                <h3 class="text-xl font-bold text-center mb-4">Endless Evolution</h3>
                <p>Ratings are not static — they tell a story, evolving alongside trends, technology, and the expanding beer market. To begin, we take a step back and observe how ratings have changed over the years.</p>
                <iframe src="plots/global_analysis/ratings_evolution_map.html" style="height: 620px;" id="ratings_distribution_raw" loading="lazy"></iframe>
                <p>How many different insights from just a map!</p>
                <ul class="list-disc list-inside ml-6 mt-4">
                    <li><b>Beer lovers evolution</b>: We see that people over time prefer more and more the beers from beer loving countries such as United States, Belgium, United Kingdom and Canada. We see that over time people are enjoying more and more beers from european or US breweries bringing this countries to the top of the list.</li>
                    <li><b>I'm never going to like your beers</b>: In all the other continents it seems that the ratings are not increasing over time and in some cases they are decreasing. We see some improvements in some specific countries (such as Brasil or Australia) but in general these countries doesn't follow the positive trend of the countries from either EU or US.</li>
                </ul>
                <p>Let's go deeper and let's see how the different rating metrics have evolved over time too.</p>
                <iframe src="plots/global_analysis/mean_median_over_time.html" style="height: 620px;" id="ratings_distribution_raw" loading="lazy"></iframe>
                <p>We can see that the mean for all categories is increasing over time, and for aroma, taste, and overall, the median has shifted from 13 to 14. This, along with the increase in the mean, clearly shows that over time there has been a shift in the bias towards the higher end of the scale. In general, the rise in the average mean indicates a trend of all ratings moving towards the higher values meaning that people are increasingly enjoing the beers produced!</p>
            </div>
        </div>
    </section>
    <section>
        <h2 class="text-3xl font-bold text-center mb-6">ABV and style a love story or an horrible breakup?</h2>
        <div class="mx-auto px-6">
            <div class="content">
                <h3 class="text-xl font-bold text-center mb-4">Is it the aroma or is it the mouthfeel?</h3>
                <p>When it comes to beer, alcohol by volume (ABV) plays a significant role in shaping preferences. Over the years, we've observed a fascinating trend: as time progresses, beer enthusiasts increasingly gravitate towards higher ABV beers.</p>
                <iframe src="plots/abv/abv_ratings.html" class="abv_ratings" style="height: 620px;" id="ratings_distribution_raw_2002" loading="lazy"></iframe>
                <p>The two main considerations that we can do are:</p>
                <ul class="">
                    <li><b>The higher the better</b>: We see that over time the higher ABVs are always associated with higher ratings. This observation can be validaded by observing that, if we exclude 2002, the linear correlation between the ABV and the average rating for that specific ABV is very high and it's close to <b>0.9</b> with a minor variability over the time period.  </li>
                    <li><b>In medio stat abv</b>: Even if we see that users tend to prefer higher ABVs beer in terms of rating we see that most users goes with beers that have a ABV in the 5-10 ABV. Most ratings are indeed of beers that have an ABV in this specific range. </li>
                    <li><b>Positive trend</b>: All the ABVs tend to have a higher rating over time, which is coherent with was we discovered in the previous section, but we see that also the ABV seems to have a positive trend towards higher values. </li>
                </ul>
                <p>As pointed out before it seems that the average ABV is increasing over time, suggesting a shift in ABV preference over time at global level. Is this true?</p>
                <select class="block p-2 bg-white border border-gray-500 rounded focus:outline-none mt-8 mb-4" style="margin-right: 8px; margin-left: 8px;" id="abv_evolution">
                    <option value="abv_evoluton">ABV evolution globally</option>
                    <option value="abv_evolution_map">ABV evolution map</option>
                </select>
                <div class="iframes_group">
                    <iframe src="plots/abv/abv_evolution.html" style="height: 620px;" class="abv_plots" id="abv_evolution_iframe" loading="lazy"></iframe>
                    <iframe src="plots/abv/abv_evolution_map.html" style="height: 620px;" class="abv_plots" id="abv_evolution_map_iframe" loading="lazy"></iframe>
                </div>
                <script>
                    /* Selection process */
                    const abv_selection = {
                        "abv_evolution": "abv_evolution_iframe",
                        "abv_evolution_map": "abv_evolution_map_iframe",
                    }
                    document.getElementById("abv_evolution").addEventListener("change", (event) => {
                        const selected_value = event.target.value;
                        const selected_map = abv_selection[selected_value];
                        const iframes = document.getElementsByClassName("abv_plots");
                        for (let i = 0; i < iframes.length; i++) {
                            if (iframes[i].id === selected_map) {
                                iframes[i].classList.remove("hidden_element");
                            } else {
                                iframes[i].classList.add("hidden_element");
                            }
                        }
                    });
                </script>
                <p>It seems like the positive trend is real! We see that the average ABV of produced beers increases over time in most countries, in particular in Europe and United States.</p>
                <p>It's interesting to observe another very peculiar thing: countries such as Belgium, Germany and England, historically the most famous for their beers, doesn't have a significant increase of ABV, meaning that from these countries the favourite beers are the traditional ones, with a small change over time.</p>
                <p</p>
            </div>
        </div>
    </section>
    <section>
        <h2 class="text-3xl font-bold text-center mb-6">The style is everything</h2>
        <div class="mx-auto px-6">
            <div class="content">
                <p>So far we have explored the ratings, how they evolved over time and the impact of ABV on the ratings but we have missed one very important aspect: the <b>style</b> of the beer.</p>
                <p> The style of a beer is a key factor in shaping its taste, aroma, and overall experience but also, as we will see, the ABV. From the hoppy bitterness of an IPA to the rich maltiness of a stout, the style of a beer is a defining characteristic that influences how it is perceived and enjoyed.</p>
                <iframe src="plots/style/styles_pie_chart.html" class="abv_ratings" style="height: 620px;" id="ratings_distribution_raw_2002" loading="lazy"></iframe>
                <p>Wow! What a diversity! Let's do a couple of considerations: </p>
                <p>India Pale Ale (IPA) dominates, reflecting a worldwide trend toward hoppy, flavorful beers driven by the craft beer movement. It's followed by Imperial Stout's whose strong presence highlights a growing appreciation for rich, high-alcohol beers. Meanwhile, Pale Lager maintains its steady reign as a light, approachable option, serving as the default choice in many cultures,</p>
                <p>The dominance of "Ale" styles tells a story of tradition and innovation. Among the oldest beer types, ales trace their roots to European brewing, particularly in the UK and Belgium, where they flourished. Their warm fermentation creates fruity, complex flavors, making them perfect for modern craft brewers and adventurous drinkers seeking unique, bold experiences.</p>
                <p>Additionally there seems to be a significant market share of beers dominated by nieche styles with more than <b>40%</b> of the beers that are from a style that has a market share smaller than <b>1.90%</b>. This reflects a global thirst for novelty, with consumer that are looking for unconventional flavors and brewering techniques.</p>
                <p>But what about the favourite beer style for each country?</p>
                <iframe src="plots/style/favourite_beer_style_country.html" class="abv_ratings" style="height: 1020px;" id="ratings_distribution_raw_2002" loading="lazy"></iframe>
                <p>Wow, only a couple of beer styles really dominate!</p>
                <p><b>Pale Lager</b> is the favourite style in vast regions, especially across South America, southern Africa, and much of Asia. This style’s accessibility and light, refreshing profile make it universally appealing, explaining its widespread popularity in regions with warmer climates.</p>
                <p><b>India Pale Ale (IPA)</b> emerges as the favorite in North America and much of Europe. The bold flavors and hoppy character of IPAs resonate with a market that increasingly values craft beer and innovation. </p>
                <p>Even so we see that in countries with a strong beer culture the prefer local artisanal beers. In Germany the favourite one is the Pilsener while in UK all the pubs need to have at least a Bitter beer. In Belgium the Belgian Ale is the king of all while in Czech Republic the Czech Pilsner is what really dominates the market. </p>
                <p>Preferences are not static but they change over time and they evolve. Let's see how the favourite beer style for each country has changed over time.</p>
                <video controls class="mx-auto mt-8 mb-8" autoplay loop muted>
                    <source src="plots/style/race_video.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                <p>What a climbing for the India Pale Ale (IPA) and the imperial Stout! We see that over the years the number of ratings for these two beers have significantly increased and at the end of 2016 they were the two preferred beer styles in the world. </p>
                <p>We see on the other hand that other styles such as the Pale Lager or the Belgian Strong Ale had a different evolution over time. From being the favourite ones they have lost rankings year after year and the Belgian Strong Ale, once in the top 3 is at the end of 2016 is not even in the podium anymore.</p>
                <p>The evolution in style preferences over time not only highlights how user tastes have shifted but also explains the increase in average ABV from 2002 to 2016. This change is driven by the fact that the most popular styles in 2016 have a significantly higher ABV compared to those in 2002, indicating that users have progressively favored beers with higher alcohol content.</p>
            </div>
        </div>
    </section>
    <section>
        <h2 class="text-3xl font-bold text-center mb-6">The hops are always greener abroad</h2>
        <div class="mx-auto px-6">
            <div class="content">
                <p>Another large factor in beer popularity is a country’s beer culture. Does it produce popular beer or do residents prefer foreign beers? Certain countries have large beer cultures and very famous beer styles, while others have barely any breweries. As a result of this, consumers from certain countries prefer local beers, while others prefer the beer abroad.</p>
                <img src="./plots/location_influence/preferences.png" alt="Chart of the location preference of users" class="rounded-lg mb-8 mt-8 full-width-image">
                <p>Here we see the top 10 countries with the highest and lowest preference for foreign beers. Among the countries who have a preference for local beers, we indeed see many of the countries we would expect: Czechia, the USA, Ireland, Belgium and the UK. In the list of countries with a large preference for foreign beers, we see countries that mostly do not have a large beer culture.</p>
                <p>In general, there are far more countries that have a preference for foreign beers than for local beers. This also makes sense, because many users will write reviews for foreign beers while they are on holiday. During this time, they have a good experience and are more likely to rate a beer higher.</p>
                <p>An important question to ask is if there are any specific countries that produce very good beer. We just saw that some countries prefer their own beer, but do others like their beer as well? To find out, we can construct a graph in which every country points to another country whom they review the most foreign beers from. Self-loops are therefore impossible. </p>
                <iframe src="plots/location_influence/location_influence.html" style="height: 620px;" id="network_graph_foreign_beer_preference" loading="lazy" scrolling="no"></iframe>
                <script>
                    // Set the card class and the card-body class to no border
                    const iframe = document.getElementById("network_graph_foreign_beer_preference");
                    
                    iframe.onload = () => { // Ensure the iframe is fully loaded
                        /* Modify the style and remove the border applied by the library */
                        const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                        const style = iframeDoc.createElement("style");
                        style.textContent = ".card { border: none!important; height: 100%; width: 100%; } .card-body { border: none!important; }"; // Corrected property
                        iframeDoc.head.appendChild(style);

                        /* Set the background of the body to #f5f5f5 */
                        iframeDoc.body.style.backgroundColor = "#f5f5f5";

                        /* Add a button to toggle fullscreen */
                        const button = iframeDoc.createElement("button");
                        button.style.position = "absolute";
                        button.style.top = "10px";
                        button.style.right = "10px";
                        button.style.zIndex = "1000";
                        button.style.padding = "5px";
                        button.style.border = "none";
                        button.style.backgroundColor = "white";
                        button.style.borderRadius = "5px";
                        button.style.cursor = "pointer";

                        // Initial button icon
                        button.innerHTML = '<svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 4h4m0 0v4m0-4-5 5M8 20H4m0 0v-4m0 4 5-5"/></svg>';
                        button.isfullscreen = false;

                        // Toggle fullscreen mode when button is clicked
                        button.onclick = () => {
                            if (button.isfullscreen) {
                                document.exitFullscreen();
                                iframe.style.height = "620px"; // Restore the original size
                                button.isfullscreen = false;
                            } else {
                                iframeDoc.documentElement.requestFullscreen() // Request fullscreen on iframe's document
                                .then(() => {
                                    button.isfullscreen = true;
                                })
                                .catch(err => {
                                    alert("Fullscreen mode is not supported in your browser.");
                                    button.style.display = "none"; // Hide the button if fullscreen is not supported
                                });
                            }
                        };

                        iframeDoc.body.appendChild(button);
                    };
                </script>

                
                <p>Here we indeed see the formation of hubs. The USA and Belgium are the largest ones, with in-degrees of 28 and 17 respectively. The UK and Germany are smaller hubs with 11 and 9 other nodes pointing at them. This plot clearly shows that the country of production of a beer is very important for its popularity and explains why these countries show up with high local preference in the previous graph.                </p>
            </div>
        </div>
    </section>
    <section>
        <h2 class="text-3xl font-bold text-center mb-6">Let's wrap it up</h2>
    </section>
    <section>
        <h2 class="text-3xl font-bold text-center mb-6">It's time to say goodbye</h2>
        <div class="mx-auto px.6">
            <div class="content">
                <img src="./img/peaceout.gif" alt="Paceout" class="rounded-lg shadow-xl mb-8 mt-8 full-width-image">
            </div>
        </div>
    </section>
</body>
</html>